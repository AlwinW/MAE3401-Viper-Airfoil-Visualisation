filedata <- LoadFile(filename, foldername)
list2env(filedata, envir = environment()); rm(filedata)       # N.B: local so must be passed as fn input
# >> File Data Loaded ----
ThreadProgress(threadname, Re, AoA, "File Data Loaded
---------------------------------------------------------------")
#--- Run Airfoil Calculations ----
source("Function Airfoil Profile.R")    # For fn "AirfoilCoord", etc
list2env(airfoildata, envir = .GlobalEnv)                     # N.B: global so all fn can find it
airfoilcoord <- AirfoilCoord(a, c + a, AoA, res = 100)
# >> Airfoil Coordinates Calculated ----
ThreadProgress(threadname, Re, AoA, "Airfoil Coordinates Calculated")
#--- Interpolation on the airfoil----
source("Function Interpolations.R")     # For fn "InterpPoint", etc
airfoilsurfmesh <- InterpPoint(omesh, airfoilcoord, varnames = c("P", "vort_xy_plane"))
# >> Airfoil Surface Interpolation Calculated ----
ThreadProgress(threadname, Re, AoA, "Airfoil Surface Interpolation Calculated")
# Plots
varmin = -0.5; varmax = 0.5
var = "P"
ggplot(data = omesh,
aes_string(
x = x, y = y,
colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_point(data = omes) +
geom_path(data = airfoilcoord)
head(omesh)
ggplot(data = omesh,
aes_string(
x = "x", y = "y",
colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_point(data = omes) +
geom_path(data = airfoilcoord)
ggplot(data = omesh,
aes_string(
x = "x", y = "y",
colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_point(data = omesh) +
geom_path(data = airfoilcoord)
head(omesh)
ggplot(data = omesh,
aes_string(
x = "x", y = "y",
colour = "P")) +
geom_point(data = omesh) +
geom_path(data = airfoilcoord)
ggplot(data = omesh,
aes(
x = x, y = y,
colour = P)) +
geom_point(data = omesh) +
geom_path(data = airfoilcoord)
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord)
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmaxs))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
update_geom_defaults("line", list(size = 1))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
update_geom_defaults("line", list(size = 3))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
update_geom_defaults("path", list(size = 1))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_path(data = airfoilcoord, fill = "white") +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_polygon(data = airfoilcoord, fill = "white") +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
update_geom_defaults("path", list(size = 1),
"polygon", list(fill = "white"))
update_geom_defaults("polygon", list(fill = "white"))
update_geom_defaults("path", list(size = 1))
update_geom_defaults("polygon", list(fill = "white"))
update_geom_defaults("polygon", list(fill = "white", colour = "black", size = 1))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_polygon(data = airfoilcoor) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < -0.5, varmin, ifelse(var >  0.5, var)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, varmin, ifelse(var >  varmax, varmax, var)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var<varmin, varmin, ifelse(var > varmax, varmax, var), var))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
head(omesh)
filter(omesh, P > 0.5)
mutate(omesh, P = ifelse(P < varmin, varmin, ifelse(P > varmax, varmax, P)))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = var)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
varmin = 0; varmax = 0.5
var = "P"
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = var)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, varmin, ifelse(var > varmax, varmax, var)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, varmin, var))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, 0.1, var))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, "red", var))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
colour = ifelse(P < 0, "red", "blue"))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0, "red", "blue")))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0, "red", "blue")))
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0, "red", "blue"))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0, "red", "blue"))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0.1, "red", ifelse(P > 0.1, "blue", "green")))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0.1, "red", ifelse(P > 0, "blue", "green")))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0.1, "red", ifelse(P < 0, "blue", "green")))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < 0.1, 0.1, ifelse(P > 0, 0, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
geom_point(data = omesh,
aes(colour = ifelse(P < -0.1, 0.1, ifelse(P > 0.1, 0, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.1, 0.1, ifelse(P > 0.1, 0, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.1, -10, ifelse(P > 0.1, 10, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.1, -10, ifelse(P > 0.1, 10, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
varmin = -0.5; varmax = 0.5
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.5, -10, ifelse(P > 0.5, 10, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.4, -10, ifelse(P > 0.4, 10, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(11, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.4, -10, ifelse(P > 0.4, 10, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")) )
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < -0.4, -0.4, ifelse(P > 0.4, 0.4, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")) )
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin, ifelse(P > varmax, varmax, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")) )
varmin = -0.5; varmax = 0.5
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin, ifelse(P > varmax, varmax, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")) )
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin*3, ifelse(P > varmax, varmax*3, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")) )
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin*3, ifelse(P > varmax, varmax*3, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(8, "RdYlBu")), limits = c(varmin, varmax))
setwd("//ad.monash.edu/home/User032/awan39/Documents/GitHub/MAE3401-Viper-Airfoil-Visualisation/Viper-Airfoil-Visualisation-Batch-Runs")
setwd("//ad.monash.edu/home/User032/awan39/Documents/GitHub/MAE3401-Viper-Airfoil-Visualisation/Viper-Airfoil-Visualisation-Batch-Runs")
ggplot(data = omesh, aes(x = x, y = y)) +
# geom_point(data = omesh,
#   aes_string(colour = ifelse(var < varmin, "red", "blue"))) +
geom_point(data = omesh,
aes_string(colour = ifelse(var < varmin, varmin, ifelse(var > varmax, varmax, var)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(varmin, varmax))
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin, ifelse(P > varmax, varmax, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(varmin, varmax))
head(omesh)
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(vort_xy_plane < varmin, varmin, ifelse(vort_xy_plane > varmax, varmax, vort_xy_plane)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")) )
varmin = -20; varmax = 20
var = "P"
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(vort_xy_plane < varmin, varmin, ifelse(vort_xy_plane > varmax, varmax, vort_xy_plane)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")) )
plot
varmin = -10; varmax = 10
var = "P"
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(vort_xy_plane < varmin, varmin, ifelse(vort_xy_plane > varmax, varmax, vort_xy_plane)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")) )
plot
varmin = -1000; varmax = 1000
var = "P"
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(vort_xy_plane < varmin, varmin, ifelse(vort_xy_plane > varmax, varmax, vort_xy_plane)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")) )
plot
varmin = -20; varmax = 20
var = "P"
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(vort_xy_plane < varmin, varmin, ifelse(vort_xy_plane > varmax, varmax, vort_xy_plane)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(varmin, varmax))
plot
deparse(var)
deparse(varmin)
deparse(substitute(varmin))
PlotAirfoilSurf <- function(varname, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < varmin, varmin, ifelse(var > varmax, varmax, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes(colour = ifelse(P < varmin, varmin, ifelse(P > varmax, varmax, P)))) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(varmin, varmax))
return(plot)
}
PlotAirfoilSurf(P, -20, 20)
PlotAirfoilSurf <- function(varname, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < varmin, varmin, ifelse(var > varmax, varmax, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = aes_col)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(min, max))
return(plot)
}
PlotAirfoilSurf(P, -20, 20)
PlotAirfoilSurf <- function(varname, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < min, min, ifelse(var > max, max, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = aes_col)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(min, max))
return(plot)
}
PlotAirfoilSurf(P, -20, 20)
PlotAirfoilSurf <- function(varname, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < min, min, ifelse(var > max, max, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = aes_col)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(min, max))
return(plot)
}
PlotAirfoilSurf <- function(var, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < min, min, ifelse(var > max, max, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = aes_col)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(min, max))
return(plot)
}
PlotAirfoilSurf(P, -20, 20)
PlotAirfoilSurf("P", -20, 20)
rm(var)
rm(varname)
PlotAirfoilSurf <- function(var, min, max) {
aes_col <- gsub('var', var, 'ifelse(var < min, min, ifelse(var > max, max, var))')
plot <-
ggplot(data = omesh, aes(x = x, y = y)) +
geom_point(data = omesh,
aes_string(colour = aes_col)) +
geom_polygon(data = airfoilcoord) +
coord_fixed(xlim = c(-1, 1), ylim = c(-1, 1)) +
scale_colour_gradientn(var,
colours = rev(brewer.pal(9, "RdYlBu")), limits = c(min, max))
return(plot)
}
PlotAirfoilSurf("P", -20, 20)
PlotAirfoilSurf("P", -0.5, 0.5)
PlotAirfoilSurf("P", -0.1, 0.1)
